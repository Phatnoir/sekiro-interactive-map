<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sekiro Completion Map</title>
<style>
  body {
    margin: 0;
    background-color: #000;
    color: #f0d6a6;
    font-family: 'Times New Roman', serif;
  }
  .map-container {
    position: relative;
    width: 100%;
    max-width: 2048px;
    margin: auto;
  }
  .map-image {
    width: 100%;
    height: auto;
    display: block;
  }
  .checkbox {
    position: absolute;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    opacity: 0.2;
    z-index: 10;
    cursor: pointer;
  }
  .checkbox:checked {
    opacity: 1;
  }
  .controls {
    text-align: center;
    padding: 15px;
    background-color: rgba(0, 0, 0, 0.8);
    border-top: 1px solid #564e36;
  }
  .btn {
    background-color: #3a3224;
    color: #f0d6a6;
    border: 1px solid #564e36;
    padding: 8px 16px;
    margin: 0 5px;
    cursor: pointer;
    font-family: 'Times New Roman', serif;
    font-size: 16px;
  }
  .btn:hover {
    background-color: #564e36;
  }
  .progress-bar {
    width: 100%;
    max-width: 500px;
    height: 20px;
    background-color: #3a3224;
    margin: 15px auto;
    position: relative;
  }
  .progress-fill {
    height: 100%;
    background-color: #8f774a;
    width: 0%;
    transition: width 0.3s;
  }
  .progress-text {
    position: absolute;
    width: 100%;
    text-align: center;
    top: 50%;
    transform: translateY(-50%);
    font-size: 14px;
  }
  .header {
    text-align: center;
    padding: 15px;
    background-color: rgba(0, 0, 0, 0.8);
    border-bottom: 1px solid #564e36;
  }
  .header h1 {
    margin: 0;
    font-size: 24px;
    color: #f0d6a6;
  }
</style>
</head>
<body>
<div class="header">
  <h1>Sekiro: Shadows Die Twice - Completion Tracker</h1>
</div>

<div class="map-container">
  <img class="map-image" src="Sekiro locations.png" alt="Sekiro Map">
  <input type="checkbox" class="checkbox" id="cb-0" style="left: 42.68%; top: 5.30%;">
  <input type="checkbox" class="checkbox" id="cb-1" style="left: 34.33%; top: 8.25%;">
  <input type="checkbox" class="checkbox" id="cb-2" style="left: 43.12%; top: 10.50%;">
  <input type="checkbox" class="checkbox" id="cb-3" style="left: 62.11%; top: 11.28%;">
  <input type="checkbox" class="checkbox" id="cb-4" style="left: 26.95%; top: 12.41%;">
  <input type="checkbox" class="checkbox" id="cb-5" style="left: 91.31%; top: 14.32%;">
  <input type="checkbox" class="checkbox" id="cb-6" style="left: 76.61%; top: 14.93%;">
  <input type="checkbox" class="checkbox" id="cb-7" style="left: 55.03%; top: 15.19%;">
  <input type="checkbox" class="checkbox" id="cb-8" style="left: 68.12%; top: 18.84%;">
  <input type="checkbox" class="checkbox" id="cb-9" style="left: 50.59%; top: 19.79%;">
  <input type="checkbox" class="checkbox" id="cb-10" style="left: 72.36%; top: 22.14%;">
  <input type="checkbox" class="checkbox" id="cb-11" style="left: 36.43%; top: 22.40%;">
  <input type="checkbox" class="checkbox" id="cb-12" style="left: 41.75%; top: 24.05%;">
  <input type="checkbox" class="checkbox" id="cb-13" style="left: 62.60%; top: 24.05%;">
  <input type="checkbox" class="checkbox" id="cb-14" style="left: 46.29%; top: 30.12%;">
  <input type="checkbox" class="checkbox" id="cb-15" style="left: 22.36%; top: 30.38%;">
  <input type="checkbox" class="checkbox" id="cb-16" style="left: 48.49%; top: 31.34%;">
  <input type="checkbox" class="checkbox" id="cb-17" style="left: 20.36%; top: 31.60%;">
  <input type="checkbox" class="checkbox" id="cb-18" style="left: 28.17%; top: 33.33%;">
  <input type="checkbox" class="checkbox" id="cb-19" style="left: 65.53%; top: 34.20%;">
  <input type="checkbox" class="checkbox" id="cb-20" style="left: 12.06%; top: 35.85%;">
  <input type="checkbox" class="checkbox" id="cb-21" style="left: 32.23%; top: 36.37%;">
  <input type="checkbox" class="checkbox" id="cb-22" style="left: 37.84%; top: 36.55%;">
  <input type="checkbox" class="checkbox" id="cb-23" style="left: 85.89%; top: 36.98%;">
  <input type="checkbox" class="checkbox" id="cb-24" style="left: 51.56%; top: 37.76%;">
  <input type="checkbox" class="checkbox" id="cb-25" style="left: 7.57%; top: 37.85%;">
  <input type="checkbox" class="checkbox" id="cb-26" style="left: 26.12%; top: 40.02%;">
  <input type="checkbox" class="checkbox" id="cb-27" style="left: 24.32%; top: 40.62%;">
  <input type="checkbox" class="checkbox" id="cb-28" style="left: 31.25%; top: 40.71%;">
  <input type="checkbox" class="checkbox" id="cb-29" style="left: 73.14%; top: 41.49%;">
  <input type="checkbox" class="checkbox" id="cb-30" style="left: 75.34%; top: 41.58%;">
  <input type="checkbox" class="checkbox" id="cb-31" style="left: 86.43%; top: 41.58%;">
  <input type="checkbox" class="checkbox" id="cb-32" style="left: 40.62%; top: 42.71%;">
  <input type="checkbox" class="checkbox" id="cb-33" style="left: 20.02%; top: 44.44%;">
  <input type="checkbox" class="checkbox" id="cb-34" style="left: 36.13%; top: 45.49%;">
  <input type="checkbox" class="checkbox" id="cb-35" style="left: 41.46%; top: 48.00%;">
  <input type="checkbox" class="checkbox" id="cb-36" style="left: 62.01%; top: 48.00%;">
  <input type="checkbox" class="checkbox" id="cb-37" style="left: 13.72%; top: 49.91%;">
  <input type="checkbox" class="checkbox" id="cb-38" style="left: 34.03%; top: 50.43%;">
  <input type="checkbox" class="checkbox" id="cb-39" style="left: 6.74%; top: 50.69%;">
  <input type="checkbox" class="checkbox" id="cb-40" style="left: 89.89%; top: 52.08%;">
  <input type="checkbox" class="checkbox" id="cb-41" style="left: 8.11%; top: 54.08%;">
  <input type="checkbox" class="checkbox" id="cb-42" style="left: 42.68%; top: 55.73%;">
  <input type="checkbox" class="checkbox" id="cb-43" style="left: 68.36%; top: 56.08%;">
  <input type="checkbox" class="checkbox" id="cb-44" style="left: 84.57%; top: 56.16%;">
  <input type="checkbox" class="checkbox" id="cb-45" style="left: 15.04%; top: 56.25%;">
  <input type="checkbox" class="checkbox" id="cb-46" style="left: 81.88%; top: 56.68%;">
  <input type="checkbox" class="checkbox" id="cb-47" style="left: 49.12%; top: 57.12%;">
  <input type="checkbox" class="checkbox" id="cb-48" style="left: 76.71%; top: 57.99%;">
  <input type="checkbox" class="checkbox" id="cb-49" style="left: 23.58%; top: 61.63%;">
  <input type="checkbox" class="checkbox" id="cb-50" style="left: 29.10%; top: 61.98%;">
  <input type="checkbox" class="checkbox" id="cb-51" style="left: 31.49%; top: 62.33%;">
  <input type="checkbox" class="checkbox" id="cb-52" style="left: 7.13%; top: 62.41%;">
  <input type="checkbox" class="checkbox" id="cb-53" style="left: 66.11%; top: 63.28%;">
  <input type="checkbox" class="checkbox" id="cb-54" style="left: 62.35%; top: 63.54%;">
  <input type="checkbox" class="checkbox" id="cb-55" style="left: 9.28%; top: 64.06%;">
  <input type="checkbox" class="checkbox" id="cb-56" style="left: 73.97%; top: 65.45%;">
  <input type="checkbox" class="checkbox" id="cb-57" style="left: 21.24%; top: 66.15%;">
  <input type="checkbox" class="checkbox" id="cb-58" style="left: 24.32%; top: 66.23%;">
  <input type="checkbox" class="checkbox" id="cb-59" style="left: 11.67%; top: 66.84%;">
  <input type="checkbox" class="checkbox" id="cb-60" style="left: 71.53%; top: 68.75%;">
  <input type="checkbox" class="checkbox" id="cb-61" style="left: 23.00%; top: 68.84%;">
  <input type="checkbox" class="checkbox" id="cb-62" style="left: 60.11%; top: 69.88%;">
  <input type="checkbox" class="checkbox" id="cb-63" style="left: 67.14%; top: 70.49%;">
  <input type="checkbox" class="checkbox" id="cb-64" style="left: 33.20%; top: 71.01%;">
  <input type="checkbox" class="checkbox" id="cb-65" style="left: 10.01%; top: 71.27%;">
  <input type="checkbox" class="checkbox" id="cb-66" style="left: 42.19%; top: 72.57%;">
  <input type="checkbox" class="checkbox" id="cb-67" style="left: 58.30%; top: 73.70%;">
  <input type="checkbox" class="checkbox" id="cb-68" style="left: 18.75%; top: 74.65%;">
  <input type="checkbox" class="checkbox" id="cb-69" style="left: 25.10%; top: 76.56%;">
  <input type="checkbox" class="checkbox" id="cb-70" style="left: 8.30%; top: 76.74%;">
  <input type="checkbox" class="checkbox" id="cb-71" style="left: 44.24%; top: 77.00%;">
  <input type="checkbox" class="checkbox" id="cb-72" style="left: 40.97%; top: 77.60%;">
  <input type="checkbox" class="checkbox" id="cb-73" style="left: 94.92%; top: 77.69%;">
  <input type="checkbox" class="checkbox" id="cb-74" style="left: 69.53%; top: 77.95%;">
  <input type="checkbox" class="checkbox" id="cb-75" style="left: 73.97%; top: 79.25%;">
  <input type="checkbox" class="checkbox" id="cb-76" style="left: 29.83%; top: 79.43%;">
  <input type="checkbox" class="checkbox" id="cb-77" style="left: 20.31%; top: 79.60%;">
  <input type="checkbox" class="checkbox" id="cb-78" style="left: 65.92%; top: 80.21%;">
  <input type="checkbox" class="checkbox" id="cb-79" style="left: 56.45%; top: 81.86%;">
  <input type="checkbox" class="checkbox" id="cb-80" style="left: 32.08%; top: 82.55%;">
  <input type="checkbox" class="checkbox" id="cb-81" style="left: 41.16%; top: 83.07%;">
  <input type="checkbox" class="checkbox" id="cb-82" style="left: 76.56%; top: 87.41%;">
  <input type="checkbox" class="checkbox" id="cb-83" style="left: 72.22%; top: 88.54%;">
  <input type="checkbox" class="checkbox" id="cb-84" style="left: 61.08%; top: 90.28%;">
  <input type="checkbox" class="checkbox" id="cb-85" style="left: 42.58%; top: 90.89%;">
  <input type="checkbox" class="checkbox" id="cb-86" style="left: 40.77%; top: 93.32%;">
  <input type="checkbox" class="checkbox" id="cb-87" style="left: 20.12%; top: 95.23%;">
  <input type="checkbox" class="checkbox" id="cb-88" style="left: 62.70%; top: 95.75%;">
  <input type="checkbox" class="checkbox" id="cb-89" style="left: 42.24%; top: 95.83%;">
</div>

<div class="controls">
  <div class="progress-bar">
    <div class="progress-fill" id="progress-fill"></div>
    <div class="progress-text" id="progress-text">0 / 90 (0%)</div>
  </div>
  <button class="btn" id="clear-all">Clear All</button>
  <button class="btn" id="export-progress">Export Progress</button>
  <button class="btn" id="import-progress">Import Progress</button>
</div>

<script>
  // Get all elements we'll work with
  const checkboxes = document.querySelectorAll('.checkbox');
  const clearAllBtn = document.getElementById('clear-all');
  const exportBtn = document.getElementById('export-progress');
  const importBtn = document.getElementById('import-progress');
  const progressFill = document.getElementById('progress-fill');
  const progressText = document.getElementById('progress-text');

  // Load checkboxes from localStorage
  function loadCheckboxes() {
    checkboxes.forEach(cb => {
      const id = cb.id;
      cb.checked = localStorage.getItem(id) === "true";
    });
    updateProgress();
  }

  // Save checkbox state to localStorage
  function saveCheckbox(checkbox) {
    localStorage.setItem(checkbox.id, checkbox.checked);
    updateProgress();
  }

  // Update progress bar and text
  function updateProgress() {
    const total = checkboxes.length;
    const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
    const percentage = Math.round((checked / total) * 100);
    
    progressFill.style.width = percentage + '%';
    progressText.textContent = `${checked} / ${total} (${percentage}%)`;
  }

  // Clear all checkboxes
  clearAllBtn.addEventListener('click', () => {
    if (confirm('Are you sure you want to clear all progress?')) {
      checkboxes.forEach(cb => {
        cb.checked = false;
        localStorage.setItem(cb.id, false);
      });
      updateProgress();
    }
  });

  // Export progress as JSON
  exportBtn.addEventListener('click', () => {
    const data = {};
    checkboxes.forEach(cb => {
      data[cb.id] = cb.checked;
    });
    
    const dataStr = JSON.stringify(data);
    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
    
    const exportFileDefaultName = 'sekiro-progress.json';
    
    const linkElement = document.createElement('a');
    linkElement.setAttribute('href', dataUri);
    linkElement.setAttribute('download', exportFileDefaultName);
    linkElement.click();
  });

  // Import progress from JSON
  importBtn.addEventListener('click', () => {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = '.json';
    
    input.onchange = e => {
      const file = e.target.files[0];
      const reader = new FileReader();
      
      reader.onload = function() {
        try {
          const data = JSON.parse(reader.result);
          
          Object.keys(data).forEach(key => {
            localStorage.setItem(key, data[key]);
          });
          
          loadCheckboxes();
          alert('Progress imported successfully!');
        } catch (error) {
          alert('Error importing progress: ' + error.message);
        }
      };
      
      reader.readAsText(file);
    };
    
    input.click();
  });

  // Checkbox event listeners
  checkboxes.forEach(cb => {
    cb.addEventListener('change', () => {
      saveCheckbox(cb);
    });
  });

  // Initialize on page load
  loadCheckboxes();
</script>
</body>
</html>